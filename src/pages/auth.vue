<template>
  <div class="auth-page">
    <div class="auth-container">
      <!-- –õ–æ–≥–æ—Ç–∏–ø –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
      <div class="auth-header text-center mb-8">
        <div class="d-flex align-center justify-center mb-4">
          <span class="auth-logo mr-2">üìç</span>
          <h1 class="text-h4 font-weight-bold">Trip Checklist</h1>
        </div>
        <h2 class="text-h5 text-secondary">
          –û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ –ø–æ–µ–∑–¥–∫—É —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ —á–µ–∫–ª–∏—Å—Ç–∞–º–∏
        </h2>
      </div>
      
      <!-- –§–æ—Ä–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
      <div class="auth-forms">
        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
        <AuthLoginForm
          v-if="currentForm === 'login'"
          @register="currentForm = 'register'"
          @forgot-password="currentForm = 'forgot-password'"
        />
        
        <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
        <AuthRegisterForm
          v-else-if="currentForm === 'register'"
          @login="currentForm = 'login'"
        />
        
        <!-- –§–æ—Ä–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è -->
        <AuthForgotPasswordForm
          v-else-if="currentForm === 'forgot-password'"
          @back-to-login="currentForm = 'login'"
        />
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'

// Middleware –¥–ª—è –≥–æ—Å—Ç–µ–π
definePageMeta({
  middleware: 'guest'
})

// –¢–µ–∫—É—â–∞—è —Ñ–æ—Ä–º–∞
const currentForm = ref<'login' | 'register' | 'forgot-password'>('login')

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
useHead({
  title: '–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - Trip Checklist',
  meta: [
    { name: 'description', content: '–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —á–µ–∫–ª–∏—Å—Ç–æ–≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π' }
  ]
})
</script>

<style scoped>
.auth-page {
  min-height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem 1rem;
}

.auth-container {
  max-width: 500px;
  width: 100%;
}

.auth-logo {
  font-size: 2rem;
}

.auth-forms {
  display: flex;
  justify-content: center;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä–º */
.auth-forms > * {
  animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (max-width: 768px) {
  .auth-page {
    padding: 1rem;
  }
  
  .auth-container {
    max-width: 100%;
  }
}
</style>
